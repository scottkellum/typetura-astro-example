---
import TypeturaHead from '../components/typography/TypeturaHead.astro';
import Masthead from '../components/typography/Masthead.astro';
import Headline from '../components/typography/Headline.astro';
import Meta from '../components/typography/Meta.astro';
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<title>Welcome to Astro</title>
		<TypeturaHead />
		<style>
			html {
				color: var(--text);
				background: var(--background);
				padding-bottom: 20vh;

				/* Grid */
				--max-width: 1200px;
				--columns: 6;
				--gutter: 1.5rem;

				/* Color */
				--primary: #f4663a;
				--background: #efeded;
				--background-alt: #ffffff;
				--text: #31355b;
			}
			* {
				--grid: minmax(var(--gutter), 1fr)
					repeat(
						var(--columns),
						minmax(
							0,
							calc(
								(var(--max-width) - (var(--gutter) * (var(--columns) - 1))) /
									var(--columns)
							)
						)
					)
					minmax(var(--gutter), 1fr);
			}

			/* Element styles */

			body {
				margin: 0;
			}

			img {
				width: 100%;
			}

			/* Typography */

			.header {
				color: var(--primary);
				mix-blend-mode: multiply;
			}


			/* Layout */

			.main {
				column-gap: var(--gutter);
				grid-template-columns: var(--grid);
				padding: var(--gutter);
			}

			.entry {
				margin-bottom: var(--gutter);
			}

			.entry,
			.entry-content {
				display: flex;
				flex-direction: column;
			}

			.entry-img {
				aspect-ratio: 5 / 3;
				object-fit: cover;
			}

			.entry-date {
				order: -1;
			}

			/* Module overrides */

			.entry-lede time {
				margin-bottom: 1rem;
			}

			.entry-lede time::after {
				content: "";
				display: block;
				width: calc(100% + (var(--gutter) * 2));
				height: 1px;
				margin-left: calc(var(--gutter) * -2);
				background: var(--primary);
				mix-blend-mode: multiply;
				margin-top: 0.67rem;
			}

			/* Breakpoints */

			@media (min-width: 30em) {
				html {
					--columns: 12;
				}
				.main,
				.entry-lede {
					padding: 0;
					display: grid;
				}

				.entry,
				.trending {
					grid-column-start: 3;
					grid-column-end: span 10;
				}

				.entry-lede {
					column-gap: var(--gutter);
					grid-template-columns: var(--grid);
					grid-column-start: 1;
					grid-column-end: span 14;
					margin-bottom: 4rem;
				}

				.entry-lede > .entry-img {
					aspect-ratio: auto;
					grid-column-start: 1;
					grid-column-end: span 10;
				}

				.entry-lede .entry-content {
					grid-column-start: 3;
					grid-column-end: span 11;
					margin: -2.5rem calc(var(--gutter) * -1) 0;
					background: var(--background-alt);
					padding: 0.5rem var(--gutter) 1rem;
				}
			}
			@media (min-width: 50em) {
				html {
					--columns: 24;
				}

				.main::before,
				.main::after {
					content: "";
					display: block;
					grid-column-start: 8;
					grid-column-end: 26;
					grid-row-start: 2;
					grid-row-end: 3;
					background: var(--background-alt);
					margin: 0 calc(var(--gutter) * -1);
					z-index: -1;
				}
				.main::after {
					grid-column-start: 2;
					background-color: var(--primary);
					height: 1px;
					mix-blend-mode: multiply;
				}

				.entry {
					grid-column-end: span 9;
					margin-bottom: var(--gutter);
				}
				.entry:nth-child(n + 2) {
					margin-top: -2rem;
					grid-row-start: 2;
				}
				.entry:nth-child(2) {
					grid-column-start: 8;
				}
				.entry:nth-child(3) {
					grid-column-start: 17;
				}

				.entry-lede {
					column-gap: var(--gutter);
					grid-template-columns: var(--grid);
					grid-column-start: 1;
					grid-column-end: span 26;
					margin-bottom: 4rem;
				}

				.entry-lede > .entry-img {
					aspect-ratio: auto;
					grid-column-start: 1;
					grid-column-end: span 13;
				}

				.entry-lede .entry-content {
					grid-column-start: 14;
					grid-column-end: span 12;
					margin: 0.5rem 0;
					padding: 4rem 0 0;
					background: none;
				}

				.trending {
					grid-row-start: 2;
					grid-column-start: 2;
					grid-column-end: span 6;
					margin-top: var(--gutter);
					transform: translatex(calc(var(--gutter) * -1));
				}
			}
		</style>
	</head>

	<body>
		<header class="header">
			<Masthead>Equestrian</Masthead>
		</header>
		<main class="main">
			<article class="entry entry-lede">
				<img class="entry-img" src="https://assets.codepen.io/467/horse02.jpg" alt="A handsome young horse in front of an expansive sky" />
				<div class="entry-content">
					<Headline>This horse sure knows how to code</Headline>
					<time class="entry-date meta">January 24, 2021</time>
					<Meta>by Alex Trost</Meta>
					<p>Aliquam justo enim, mollis a justo et, sagittis vulputate turpis. Nulla facilisi. Proin quis mattis ipsum, eu eleifend dolor. Nulla auctor ex vel ipsum varius viverra. Vestibulum convallis elit nec quam bibendum varius. Morbi ut mattis dui. Aenean a massa vitae magna commodo consequat. Duis ac lacus.</p>
				</div>
			</article>
			<article class="entry">
				<img class="entry-img" src="https://assets.codepen.io/467/horse03.jpg" alt="The profile view of three majestic brown horses" />
				<Headline>Trostâ€™s tolt trots to TypeScript</Headline>
				<time class="entry-date meta">January 24, 2021</time>
				<Meta>by Alex Trost</Meta>
				<p>Cras mollis dolor vitae tellus sollicitudin, quis sagittis mauris dictum. Donec aliquet ipsum et ex pulvinar, id vestibulum lectus egestas. Vestibulum non ultrices mauris, nec elementum mauris. Donec aliquet ipsum at risus vulputate viverra.</p>
			</article>
			<article class="entry">
				<img class="entry-img" src="https://assets.codepen.io/467/horse01.jpg" alt="The profile view of three majestic brown horses" />
				<Headline>This team of three does front end magic</Headline>
				<time class="entry-date meta">January 24, 2021</time>
				<Meta>by Alex Trost</Meta>
				<p>Mauris ut volutpat quam. Duis vitae turpis volutpat dolor efficitur rhoncus. Aenean lacinia est non porta dictum. Curabitur cursus mauris est, nec pharetra nisi imperdiet eget. Suspendisse non ultricies ligula.</p>
			</article>
			<section class="trending">
				<article class="trending-entry">
					<Meta>January 24, 2021</Meta>
					<Headline>Gallop into the amazing new world of CSS</Headline>
				</article>
				<article class="trending-entry">
					<Meta>January 24, 2021</Meta>
					<Headline>Horse around with new HTML5 tags</Headline>
				</article>
				<article class="trending-entry">
					<Meta>January 24, 2021</Meta>
					<Headline>Five featured fonts of front end horse</Headline>
				</article>
				<article class="trending-entry">
					<Meta>January 24, 2021</Meta>
					<Headline>Saddle up with Rust</Headline>
				</article>
			</section>
		</main>
	</body>
</html>
